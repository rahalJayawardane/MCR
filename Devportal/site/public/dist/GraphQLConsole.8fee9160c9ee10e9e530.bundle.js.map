{"version":3,"sources":["webpack:///./source/src/app/components/Apis/Details/ApiConsole/SelectAppPanel.jsx","webpack:///./node_modules/graphql-language-service-utils/esm sync ^.*\\.js$","webpack:///./node_modules/graphql-language-service-utils/esm sync ^.*\\.json$","webpack:///./node_modules/graphql-language-service-utils/esm lazy ^.*\\.js$ namespace object","webpack:///./node_modules/graphql-language-service-utils/esm lazy ^.*\\.json$ namespace object","webpack:///./source/src/app/components/Apis/Details/GraphQLConsole/GraphQLAuthentication.jsx","webpack:///./source/src/app/components/Apis/Details/GraphQLConsole/GraphQLUI.jsx","webpack:///./source/src/app/components/Apis/Details/GraphQLConsole/GraphQLConsole.jsx"],"names":["withStyles","theme","menuItem","color","palette","getContrastText","background","paper","props","subscriptions","handleChanges","selectedApplication","selectedKeyType","classes","selectedTokenType","display","justifyContent","xs","md","fullWidth","id","select","label","defaultMessage","value","name","onChange","SelectProps","helperText","margin","variant","map","sub","applicationInfo","applicationId","key","className","ml","find","status","webpackContext","req","webpackContextResolve","__webpack_require__","e","Error","code","keys","Object","resolve","module","exports","webpackEmptyContext","webpackAsyncContext","ids","Promise","all","slice","then","webpackEmptyAsyncContext","useStyles","makeStyles","buttonIcon","marginRight","centerItems","tokenType","inputAdornmentStart","minWidth","spacing","padding","grid","marginTop","marginBottom","paddingRight","userNotificationPaper","titleSub","marginLeft","paddingTop","paddingBottom","usernameField","width","passwordField","GraphQLAuthentication","accessToken","setAccessTocken","authorizationHeader","securitySchemeType","setSecuritySchemeType","prefix","isApiKeyEnabled","isBasicAuthEnabled","isOAuthEnabled","setURLs","environmentObject","setFound","username","setUserName","password","setPassword","api","useContext","ApiContext","user","AuthManager","getUser","showToken","setShowToken","useState","setSubscriptions","setSelectedApplication","setSelectedKeyType","environments","endpointURLs","endpoint","environmentName","selectedEnvironment","setSelectedEnvironment","setKeys","isPrototypedAPI","lifeCycleStatus","toLowerCase","useEffect","apiID","apiClient","Api","getSubscriptions","subscriptionsResponse","subs","obj","list","filter","item","length","sApplication","Application","get","application","getKeys","appKeys","catch","error","Paper","Grid","container","Typography","component","Icon","Box","SelectAppPanel","event","target","promiseApp","keyType","accessTokenValue","token","CircularProgress","size","gutterBottom","TextField","urls","elm","URLs","MenuItem","disabled","env","x","type","InputProps","endAdornment","InputAdornment","position","IconButton","edge","aria-label","onClick","startAdornment","FormControl","RadioGroup","row","FormControlLabel","control","Radio","propTypes","PropTypes","shape","string","isRequired","root","buildSchema","require","GraphQLUI","schema","setSchema","query","setQuery","isExplorerOpen","setIsExplorerOpen","graphiqlEl","useRef","getGraphQLSchemaByAPIId","res","graphqlSchemaObj","data","parameters","handleToggleExplorer","newExplorerIsOpen","Progress","m","https","styles","onEdit","explorerIsOpen","onToggleExplorer","height","flexGrow","ref","fetcher","graphQLParams","btoa","fetch","method","headers","Accept","body","JSON","stringify","response","json","onEditQuery","Toolbar","Button","current","handlePrettifyQuery","title","handleToggleHistory","GraphQLConsole","notFound","securityScheme","includes"],"mappings":"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","file":"GraphQLConsole.8fee9160c9ee10e9e530.bundle.js","sourcesContent":["import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Grid from '@material-ui/core/Grid';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = (theme) => ({\n    menuItem: {\n        color: theme.palette.getContrastText(theme.palette.background.paper),\n    },\n});\n\nconst SelectAppPanel = (props) => {\n    const {\n        subscriptions, handleChanges, selectedApplication, selectedKeyType, classes, selectedTokenType,\n    } = props;\n    return (\n        <>\n            <Box display='flex' justifyContent='center'>\n                <Grid xs={12} md={3}>\n                    <Box>\n                        <TextField\n                            fullWidth\n                            id='outlined-select-currency'\n                            select\n                            label={(\n                                <FormattedMessage\n                                    defaultMessage='Appplications'\n                                    id='Apis.Details.ApiConsole.SelectAppPanel.applications'\n                                />\n                            )}\n                            value={selectedApplication}\n                            name='selectedApplication'\n                            onChange={handleChanges}\n                            SelectProps={subscriptions}\n                            helperText={(\n                                <FormattedMessage\n                                    defaultMessage='Please select an application'\n                                    id='Apis.Details.ApiConsole.SelectAppPanel.select.an.application'\n                                />\n                            )}\n                            margin='normal'\n                            variant='outlined'\n                        >\n                            {subscriptions.map((sub) => (\n                                <MenuItem\n                                    value={sub.applicationInfo.applicationId}\n                                    key={sub.applicationInfo.applicationId}\n                                    className={classes.menuItem}\n                                >\n                                    {sub.applicationInfo.name}\n                                </MenuItem>\n                            ))}\n                        </TextField>\n                    </Box>\n                </Grid>\n                <Grid xs={12} md={3}>\n                    {(selectedTokenType !== 'JWT') && (\n                        <Box ml={2}>\n                            <TextField\n                                fullWidth\n                                id='outlined-select-currency'\n                                select\n                                label={(\n                                    <FormattedMessage\n                                        defaultMessage='Key Type'\n                                        id='Apis.Details.ApiConsole.SelectAppPanel.key.type'\n                                    />\n                                )}\n                                value={selectedKeyType}\n                                name='selectedKeyType'\n                                onChange={handleChanges}\n                                helperText={(\n                                    <FormattedMessage\n                                        defaultMessage='Please select a key type'\n                                        id='Apis.Details.ApiConsole.SelectAppPanel.select.key.type'\n                                    />\n                                )}\n                                margin='normal'\n                                variant='outlined'\n                            >\n                                {(subscriptions != null\n                            && subscriptions.find((sub) => sub.applicationId === selectedApplication).status\n                            === 'UNBLOCKED')\n                            && (\n                                <MenuItem value='PRODUCTION' className={classes.menuItem}>\n                                    <FormattedMessage\n                                        id='Apis.Details.ApiConsole.SelectAppPanel.production'\n                                        defaultMessage='PRODUCTION'\n                                    />\n                                </MenuItem>\n                            )}\n                                <MenuItem value='SANDBOX' className={classes.menuItem}>\n                                    <FormattedMessage\n                                        id='Apis.Details.ApiConsole.SelectAppPanel.sandbox'\n                                        defaultMessage='SANDBOX'\n                                    />\n                                </MenuItem>\n                            </TextField>\n                        </Box>\n                    )}\n                </Grid>\n            </Box>\n\n        </>\n    );\n};\n\nexport default withStyles(styles)(SelectAppPanel);\n","var map = {\n\t\"./Range.js\": 1284,\n\t\"./file.js\": 1339,\n\t\"./getASTNodeAtPosition.js\": 1338,\n\t\"./index.js\": 1309,\n\t\"./validateWithCustomRules.js\": 1405\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2124;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 2125;","var map = {\n\t\"./Range.js\": [\n\t\t1284\n\t],\n\t\"./file.js\": [\n\t\t1339\n\t],\n\t\"./getASTNodeAtPosition.js\": [\n\t\t1338\n\t],\n\t\"./index.js\": [\n\t\t1309\n\t],\n\t\"./validateWithCustomRules.js\": [\n\t\t1405\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 2126;\nmodule.exports = webpackAsyncContext;","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 2127;","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport AuthManager from 'AppData/AuthManager';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Icon from '@material-ui/core/Icon';\nimport TextField from '@material-ui/core/TextField';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport IconButton from '@material-ui/core/IconButton';\nimport {\n    Radio, RadioGroup, FormControlLabel, FormControl,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SelectAppPanel from '../ApiConsole/SelectAppPanel';\nimport Application from '../../../../data/Application';\nimport { ApiContext } from '../ApiContext';\nimport Api from '../../../../data/api';\n\nconst useStyles = makeStyles((theme) => ({\n    buttonIcon: {\n        marginRight: 10,\n    },\n    centerItems: {\n        margin: 'auto',\n    },\n    tokenType: {\n        margin: 'auto',\n        display: 'flex',\n    },\n    inputAdornmentStart: {\n        minWidth: theme.spacing(18),\n    },\n    paper: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n    },\n    grid: {\n        marginTop: theme.spacing(4),\n        marginBottom: theme.spacing(4),\n        paddingRight: theme.spacing(2),\n        justifyContent: 'center',\n    },\n    userNotificationPaper: {\n        padding: theme.spacing(2),\n    },\n    titleSub: {\n        marginLeft: theme.spacing(2),\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n    },\n    usernameField: {\n        width: '100%',\n    },\n    passwordField: {\n        width: '100%',\n        marginLeft: theme.spacing(1),\n    },\n}));\n\n\n/**\n *\n * @param {*} props\n */\nexport default function GraphQLAuthentication(props) {\n    const classes = useStyles();\n\n    const {\n        accessToken,\n        setAccessTocken,\n        authorizationHeader,\n        securitySchemeType,\n        setSecuritySchemeType,\n        prefix,\n        isApiKeyEnabled,\n        isBasicAuthEnabled,\n        isOAuthEnabled,\n        setURLs,\n        environmentObject,\n        setFound,\n        username,\n        setUserName,\n        password,\n        setPassword,\n    } = props;\n\n    const { api } = useContext(ApiContext);\n    const user = AuthManager.getUser();\n    const [showToken, setShowToken] = useState(false);\n    const [subscriptions, setSubscriptions] = useState(null);\n    const [selectedApplication, setSelectedApplication] = useState('');\n    const [selectedKeyType, setSelectedKeyType] = useState('PRODUCTION');\n    const environments = api.endpointURLs.map((endpoint) => endpoint.environmentName);\n    const [selectedEnvironment, setSelectedEnvironment] = useState(environments[0]);\n    const [keys, setKeys] = useState();\n    const isPrototypedAPI = api.lifeCycleStatus && api.lifeCycleStatus.toLowerCase() === 'prototyped';\n    useEffect(() => {\n        const apiID = api.id;\n        const apiClient = new Api();\n\n        if (user != null) {\n            const promiseSubscription = apiClient.getSubscriptions(apiID);\n\n            promiseSubscription\n                .then((subscriptionsResponse) => {\n                    const subs = subscriptionsResponse.obj.list.filter(\n                        (item) => item.status === 'UNBLOCKED' || item.status === 'PROD_ONLY_BLOCKED',\n                    );\n\n                    if (subs && subs.length > 0) {\n                        const sApplication = subs[0].applicationId;\n                        setSelectedApplication(sApplication);\n                        const promiseApp = Application.get(sApplication);\n                        promiseApp\n                            .then((application) => {\n                                return application.getKeys();\n                            })\n                            .then((appKeys) => {\n                                if (appKeys.get('SANDBOX')) {\n                                    setSelectedKeyType('SANDBOX');\n                                } else if (appKeys.get('PRODUCTION')) {\n                                    setSelectedKeyType('PRODUCTION');\n                                }\n                                setKeys(appKeys);\n                            });\n                    }\n                    setSubscriptions(subs);\n                })\n                .catch((error) => {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.error(error);\n                    }\n                    const { status } = error;\n                    if (status === 404) {\n                        setFound(true);\n                    }\n                });\n        }\n    }, []);\n\n    /**\n     *\n     * @param {React.SyntheticEvent} event\n     */\n    const handleChanges = (event) => {\n        const { value, name } = event.target;\n        if (name === 'selectedApplication') {\n            const promiseApp = Application.get(value);\n            let keyType;\n\n            setSelectedApplication(value);\n\n            if (subscriptions != null && subscriptions.find((sub) => sub.applicationId\n                === selectedApplication).status === 'PROD_ONLY_BLOCKED') {\n                setSelectedKeyType('SANDBOX');\n                keyType = 'SANDBOX';\n            } else {\n                keyType = selectedKeyType;\n            }\n\n            promiseApp\n                .then((application) => {\n                    return application.getKeys();\n                })\n                .then((appKeys) => {\n                    if (appKeys.get(keyType)) {\n                        const { accessToken: accessTokenValue } = appKeys.get(keyType).token;\n                        setAccessTocken(accessTokenValue);\n                    } else {\n                        setAccessTocken('');\n                    }\n                    setKeys(appKeys);\n                });\n        } else {\n            setSelectedKeyType(value);\n\n            if (keys.get(value)) {\n                const { accessToken: accessTokenValue } = keys.get(value).token;\n                setAccessTocken(accessTokenValue);\n            } else {\n                setAccessTocken('');\n            }\n        }\n    };\n\n\n    /**\n     * Set the environment and URLs for selected environment name\n     * @param {*} event\n     */\n    const handleEnvironemtChange = (event) => {\n        const { value } = event.target;\n        setSelectedEnvironment(value);\n        const urls = environmentObject.find((elm) => value === elm.environmentName).URLs;\n        setURLs(urls);\n    };\n\n\n    /**\n     * Handle onClick of shown access token\n     */\n    const handleClickShowToken = () => {\n        setShowToken(!showToken);\n    };\n\n\n    /**\n     * Load the access token for selected key type\n     * @param {*} event\n     */\n    const handleaccessTockenChanges = (event) => {\n        const { value } = event.target;\n        setAccessTocken(value);\n    };\n\n    /**\n     * Set the security scheme type for selected security scheme type\n     * @param {*} event\n     */\n    const handlesecuritySchemeType = (event) => {\n        const { value } = event.target;\n        setSecuritySchemeType(value);\n    };\n\n    const handleUserName = (event) => {\n        const { value } = event.target;\n        setUserName(value);\n    };\n\n    const handlePassword = (event) => {\n        const { value } = event.target;\n        setPassword(value);\n    };\n\n\n    return (\n        <>\n            <Paper className={classes.paper}>\n                <Grid container className={classes.grid}>\n                    {!isPrototypedAPI && !user && (\n                        <Grid item md={6}>\n                            <Paper className={classes.userNotificationPaper}>\n                                <Typography variant='h5' component='h3'>\n                                    <Icon>warning</Icon>\n                                    {' '}\n                                    <FormattedMessage id='notice' defaultMessage='Notice' />\n                                </Typography>\n                                <Typography component='p'>\n                                    <FormattedMessage\n                                        id={'Apis.Details.GraphQLConsole.'\n                                            + 'GraphQLAuthentication.require.access.token'}\n                                        defaultMessage={'You need an access token to try the API. Please log '\n                                            + 'in and subscribe to the API to generate an access token. If you already '\n                                            + 'have an access token, please provide it below.'}\n                                    />\n                                </Typography>\n                            </Paper>\n                        </Grid>\n                    )}\n                    {!isPrototypedAPI\n                        && (\n                            <Grid xs={12} md={12} item>\n                                <Box display='block'>\n                                    {user && subscriptions && subscriptions.length > 0 && (\n                                        <SelectAppPanel\n                                            subscriptions={subscriptions}\n                                            handleChanges={handleChanges}\n                                            selectedApplication={selectedApplication}\n                                            selectedKeyType={selectedKeyType}\n                                        />\n                                    )}\n                                    {user && subscriptions === null && (\n                                        <Box display='flex' justifyContent='center'>\n                                            <CircularProgress size={35} />\n                                        </Box>\n                                    )}\n                                    {subscriptions && subscriptions.length === 0 && (\n                                        <Box display='flex' justifyContent='center'>\n                                            <Typography variant='body1' gutterBottom>\n                                                <FormattedMessage\n                                                    id={'Apis.Details.GraphQLConsole.'\n                                                        + 'GraphQLAuthentication.please.subscribe.to.application'}\n                                                    defaultMessage='Please subscribe to an application'\n                                                />\n                                            </Typography>\n                                        </Box>\n                                    )}\n\n                                    <Box display='flex' justifyContent='center'>\n                                        <Grid xs={12} md={6} item>\n                                            {(environments && environments.length > 0)\n                                                && (\n                                                    <TextField\n                                                        fullWidth\n                                                        select\n                                                        label={(\n                                                            <FormattedMessage\n                                                                defaultMessage='Environment'\n                                                                id={'Apis.Details.GraphQLConsole.'\n                                                                    + 'GraphQLAuthentication.env'}\n                                                            />\n                                                        )}\n                                                        value={selectedEnvironment}\n                                                        name='selectedEnvironment'\n                                                        onChange={handleEnvironemtChange}\n                                                        helperText={(\n                                                            <FormattedMessage\n                                                                defaultMessage='Please select an environment'\n                                                                id={'Apis.Details.GraphQLConsole.'\n                                                                    + 'SelectAppPanel.select.env'}\n                                                            />\n                                                        )}\n                                                        margin='normal'\n                                                        variant='outlined'\n                                                    >\n                                                        {environments && environments.length > 0 && (\n                                                            <MenuItem value='' disabled>\n                                                                <em>\n                                                                    <FormattedMessage\n                                                                        id='api.gateways'\n                                                                        defaultMessage='API Gateways'\n                                                                    />\n                                                                </em>\n                                                            </MenuItem>\n                                                        )}\n                                                        {environments && (\n                                                            environments.map((env) => (\n                                                                <MenuItem value={env} key={env}>\n                                                                    {env}\n                                                                </MenuItem>\n                                                            )))}\n                                                    </TextField>\n                                                )}\n                                        </Grid>\n                                    </Box>\n\n                                    <Box display='block' justifyContent='center'>\n                                        <Grid x={12} md={6} className={classes.tokenType} item>\n                                            {securitySchemeType === 'BASIC' ? (\n                                                <>\n                                                    <TextField\n                                                        margin='normal'\n                                                        variant='outlined'\n                                                        className={classes.usernameField}\n                                                        label={\n                                                            <FormattedMessage id='username' defaultMessage='Username' />\n                                                        }\n                                                        name='username'\n                                                        onChange={handleUserName}\n                                                        value={username || ''}\n\n                                                    />\n                                                    <TextField\n                                                        margin='normal'\n                                                        variant='outlined'\n                                                        className={classes.passwordField}\n                                                        label={\n                                                            <FormattedMessage id='password' defaultMessage='Password' />\n                                                        }\n                                                        name='password'\n                                                        onChange={handlePassword}\n                                                        value={password || ''}\n\n                                                    />\n                                                </>\n                                            ) : (\n                                                <TextField\n                                                    fullWidth\n                                                    margin='normal'\n                                                    variant='outlined'\n                                                    label={(\n                                                        <FormattedMessage\n                                                            id='access.token'\n                                                            defaultMessage='Access Token'\n                                                        />\n                                                    )}\n                                                    name='accessToken'\n                                                    onChange={handleaccessTockenChanges}\n                                                    type={showToken ? 'text' : 'password'}\n                                                    value={accessToken || ''}\n                                                    helperText={(\n                                                        <FormattedMessage\n                                                            id='enter.access.token'\n                                                            defaultMessage='Enter access Token'\n                                                        />\n                                                    )}\n                                                    InputProps={{\n                                                        endAdornment: (\n                                                            <InputAdornment position='end'>\n                                                                <IconButton\n                                                                    edge='end'\n                                                                    aria-label='Toggle token visibility'\n                                                                    onClick={handleClickShowToken}\n                                                                >\n                                                                    {showToken ? <Icon>visibility_off</Icon>\n                                                                        : <Icon>visibility</Icon>}\n                                                                </IconButton>\n                                                            </InputAdornment>\n                                                        ),\n                                                        startAdornment: (\n                                                            <InputAdornment\n                                                                className={classes.inputAdornmentStart}\n                                                                position='start'\n                                                            >\n                                                                {`${authorizationHeader}: ${prefix}`}\n                                                            </InputAdornment>\n                                                        ),\n                                                        // eslint-disable-next-line indent\n                                                        }}\n                                                />\n                                            )}\n                                        </Grid>\n                                        <Grid x={12} md={6} className={classes.centerItems}>\n                                            {(isApiKeyEnabled || isBasicAuthEnabled || isOAuthEnabled) && (\n                                                <FormControl component='fieldset'>\n                                                    <RadioGroup\n                                                        name='securityScheme'\n                                                        value={securitySchemeType}\n                                                        onChange={handlesecuritySchemeType}\n                                                        row\n                                                    >\n                                                        {isOAuthEnabled && (\n                                                            <FormControlLabel\n                                                                value='OAUTH'\n                                                                control={<Radio />}\n                                                                label='Referenced (OAuth)'\n                                                            />\n                                                        )}\n                                                        {isBasicAuthEnabled && (\n                                                            <FormControlLabel\n                                                                value='BASIC'\n                                                                control={<Radio />}\n                                                                label='Basic'\n                                                            />\n                                                        )}\n                                                        {isApiKeyEnabled && (\n                                                            <FormControlLabel\n                                                                value='API-KEY'\n                                                                control={<Radio />}\n                                                                label='API Key'\n                                                            />\n                                                        )}\n                                                    </RadioGroup>\n                                                </FormControl>\n                                            )}\n                                        </Grid>\n                                    </Box>\n\n                                </Box>\n                            </Grid>\n                        )}\n                </Grid>\n            </Paper>\n        </>\n    );\n}\n\n\nGraphQLAuthentication.propTypes = {\n    classes: PropTypes.shape({\n        paper: PropTypes.string.isRequired,\n        titleSub: PropTypes.string.isRequired,\n        grid: PropTypes.string.isRequired,\n        userNotificationPaper: PropTypes.string.isRequired,\n        root: PropTypes.string.isRequired,\n        inputAdornmentStart: PropTypes.string.isRequired,\n        centerItems: PropTypes.string.isRequired,\n    }).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, {\n    useState, useEffect, useRef, useContext,\n} from 'react';\nimport GraphiQL from 'graphiql';\nimport fetch from 'isomorphic-fetch';\nimport 'graphiql/graphiql.css';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport { FormattedMessage } from 'react-intl';\nimport GraphiQLExplorer from 'graphiql-explorer';\nimport { ApiContext } from '../ApiContext';\nimport Api from '../../../../data/api';\n\nimport Progress from '../../../Shared/Progress';\n\nconst { buildSchema } = require('graphql');\n\n/**\n *\n * @param {*} props\n */\nexport default function GraphQLUI(props) {\n    const {\n        accessToken,\n        authorizationHeader,\n        URLs,\n        securitySchemeType,\n        username,\n        password,\n    } = props;\n    const { api } = useContext(ApiContext);\n    const [schema, setSchema] = useState(null);\n    const [query, setQuery] = useState('');\n    const [isExplorerOpen, setIsExplorerOpen] = useState(false);\n    const graphiqlEl = useRef(null);\n    useEffect(() => {\n        const apiID = api.id;\n        const apiClient = new Api();\n        const promiseGraphQL = apiClient.getGraphQLSchemaByAPIId(apiID);\n\n        promiseGraphQL\n            .then((res) => {\n                const graphqlSchemaObj = buildSchema(res.data);\n                setSchema(graphqlSchemaObj);\n            });\n    }, []);\n\n    const parameters = {};\n\n    const handleToggleExplorer = () => {\n        const newExplorerIsOpen = !isExplorerOpen;\n        parameters.isExplorerOpen = newExplorerIsOpen;\n        setIsExplorerOpen(newExplorerIsOpen);\n    };\n\n    /**\n     *\n     * @param {*} graphQLParams\n     */\n    function graphQLFetcher(graphQLParams) {\n        let token;\n        if (authorizationHeader === 'apikey') {\n            token = accessToken;\n        } else if (securitySchemeType === 'BASIC') {\n            const credentials = username + ':' + password;\n            token = 'Basic ' + btoa(credentials);\n        } else {\n            token = 'Bearer ' + accessToken;\n        }\n        return fetch((URLs.https), {\n            method: 'post',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                [authorizationHeader]: token,\n            },\n            body: JSON.stringify(graphQLParams),\n        }).then((response) => response.json());\n    }\n    if ({ schema } === null) {\n        return <Progress />;\n    } else {\n        return (\n            <>\n                <Box width='30%' m={1}>\n                    <TextField\n\n                        label={(\n                            <FormattedMessage\n                                defaultMessage='Gateway URLs'\n                                id='Apis.Details.GraphQLConsole.GraphQLUI.URLs'\n                            />\n                        )}\n                        value={URLs.https}\n                        name='selectedURL'\n                        fullWidth\n                        margin='normal'\n                        variant='outlined'\n                        InputProps={URLs.https}\n                    />\n                </Box>\n                <div styles={{ width: '100%' }}>\n                    <Box display='flex'>\n                        <Box display='flex'>\n                            <GraphiQLExplorer\n                                schema={schema}\n                                query={query}\n                                onEdit={setQuery}\n                                explorerIsOpen={isExplorerOpen}\n                                onToggleExplorer={handleToggleExplorer}\n                            />\n                        </Box>\n                        <Box display='flex' height='800px' flexGrow={1}>\n                            <GraphiQL\n                                ref={graphiqlEl}\n                                fetcher={(graphQLFetcher)}\n                                schema={schema}\n                                query={query}\n                                onEditQuery={setQuery}\n                            >\n                                <GraphiQL.Toolbar>\n                                    <GraphiQL.Button\n                                        onClick={() => graphiqlEl.current.handlePrettifyQuery()}\n                                        label='Prettify'\n                                        title='Prettify Query (Shift-Ctrl-P)'\n                                    />\n                                    <GraphiQL.Button\n                                        onClick={() => graphiqlEl.current.handleToggleHistory()}\n                                        label='History'\n                                        title='Show History'\n                                    />\n                                    <GraphiQL.Button\n                                        onClick={() => setIsExplorerOpen(!isExplorerOpen)}\n                                        label='Explorer'\n                                        title='Toggle Explorer'\n                                    />\n                                </GraphiQL.Toolbar>\n\n                            </GraphiQL>\n                        </Box>\n                    </Box>\n                </div>\n            </>\n        );\n    }\n}\n\nGraphQLUI.propTypes = {\n    classes: PropTypes.shape({\n        paper: PropTypes.string.isRequired,\n    }).isRequired,\n};\n","/*\n * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n *\n * WSO2 Inc. licenses this file to you under the Apache License,\n * Version 2.0 (the \"License\"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useState, useContext } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport { FormattedMessage } from 'react-intl';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GraphQLAuthentication from './GraphQLAuthentication';\nimport GraphQLUI from './GraphQLUI';\nimport { ApiContext } from '../ApiContext';\nimport Progress from '../../../Shared/Progress';\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        margin: theme.spacing(1),\n        padding: theme.spacing(1),\n    },\n    titleSub: {\n        marginLeft: theme.spacing(2),\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2),\n    },\n}));\n\n\nexport default function GraphQLConsole() {\n    const classes = useStyles();\n    const { api } = useContext(ApiContext);\n    const environmentObject = api.endpointURLs;\n    const [URLs, setURLs] = useState(environmentObject[0].URLs);\n    const [accessToken, setAccessTocken] = useState('');\n    const [securitySchemeType, setSecuritySchemeType] = useState('OAUTH');\n    const [notFound, setFound] = useState(false);\n    const [username, setUserName] = useState('');\n    const [password, setPassword] = useState('');\n\n    if (api == null) {\n        return <Progress />;\n    }\n    if (notFound) {\n        return 'API Not found !';\n    }\n    let isApiKeyEnabled = false;\n    let isBasicAuthEnabled = false;\n    let isOAuthEnabled = false;\n    let authorizationHeader = api.authorizationHeader ? api.authorizationHeader : 'Authorization';\n    let prefix = 'Bearer';\n\n    if (api && api.securityScheme) {\n        isApiKeyEnabled = api.securityScheme.includes('api_key');\n        isBasicAuthEnabled = api.securityScheme.includes('basic_auth');\n        isOAuthEnabled = api.securityScheme.includes('oauth2');\n        if (isApiKeyEnabled && securitySchemeType === 'API-KEY') {\n            authorizationHeader = 'apikey';\n            prefix = '';\n        }\n    }\n\n    return (\n        <>\n            <Typography variant='h4' className={classes.titleSub}>\n                <FormattedMessage id='Apis.Details.GraphQLConsole.GraphQLConsole.title' defaultMessage='Try Out' />\n            </Typography>\n\n            <GraphQLAuthentication\n                api={api}\n                securitySchemeType={securitySchemeType}\n                setSecuritySchemeType={setSecuritySchemeType}\n                username={username}\n                setUserName={setUserName}\n                password={password}\n                setPassword={setPassword}\n                prefix={prefix}\n                isApiKeyEnabled={isApiKeyEnabled}\n                isOAuthEnabled={isOAuthEnabled}\n                isBasicAuthEnabled={isBasicAuthEnabled}\n                accessToken={accessToken}\n                setAccessTocken={setAccessTocken}\n                authorizationHeader={authorizationHeader}\n                setURLs={setURLs}\n                environmentObject={environmentObject}\n                setFound={setFound}\n            />\n\n            <Paper className={classes.paper}>\n                <GraphQLUI\n                    accessToken={accessToken}\n                    authorizationHeader={authorizationHeader}\n                    URLs={URLs}\n                    username={username}\n                    password={password}\n                    securitySchemeType={securitySchemeType}\n                />\n            </Paper>\n        </>\n    );\n}\n\nGraphQLConsole.propTypes = {\n    classes: PropTypes.shape({\n        paper: PropTypes.string.isRequired,\n        titleSub: PropTypes.string.isRequired,\n        root: PropTypes.string.isRequired,\n    }).isRequired,\n};\n"],"sourceRoot":""}