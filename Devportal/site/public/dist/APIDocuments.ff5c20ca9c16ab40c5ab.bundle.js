(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1516:function(e,t,a){"use strict";var n=a(1),o=a.n(n),c=a(17),i=a.n(c),r=a(1182),s=a(1528),l=a(1590),d=a(1597),p=a(1701),m=a.n(p),g=a(1289),u=a.n(g),f=a(181),E=a(1199),h=a(257);a(1202);function b(e){const{classes:t,doc:a,apiId:c,fullScreen:i,intl:r}=e,{api:p}=Object(n.useContext)(E.a),[g,b]=Object(n.useState)(""),[y,w]=Object(n.useState)(!1),T=new h.a;Object(n.useEffect)(()=>{if("MARKDOWN"!==a.sourceType&&"INLINE"!==a.sourceType||L(),"FILE"===a.sourceType){T.getFileForDocument(c,a.documentId).then(()=>{w(!0)}).catch(()=>{w(!1)})}},[e.doc]);const L=()=>{T.getInlineContentOfDocument(c,a.documentId).then(e=>{let t=e.text;Object.keys(p).map(e=>{let a=new RegExp("___"+e+"___","g");t=t.replace(a,p[e])}),b(t)}).catch(e=>{0})};return o.a.createElement(o.a.Fragment,null,!i&&o.a.createElement("div",{className:t.docBadge},a.type),a.summary&&o.a.createElement(s.a,{variant:"body1",className:t.docSummary},a.summary),"MARKDOWN"===a.sourceType&&o.a.createElement(m.a,{escapeHtml:!1,source:g}),"INLINE"===a.sourceType&&o.a.createElement(u.a,{html:g}),"URL"===a.sourceType&&o.a.createElement("a",{className:t.displayURL,href:a.sourceUrl,target:"_blank"},a.sourceUrl,o.a.createElement(l.a,{className:t.displayURLLink},"open_in_new")),"FILE"===a.sourceType&&o.a.createElement(d.a,{variant:"contained",color:"default",className:t.button,disabled:!y,onClick:()=>{T.getFileForDocument(c,a.documentId).then(e=>{((e,t)=>{let a="";const n=e.headers["content-disposition"];if(n&&-1!==n.indexOf("attachment")){const e=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=e&&e[1]&&(a=e[1].replace(/['"]/g,""))}const o=e.headers["content-type"],c=new Blob([e.data],{type:o});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(c,a);else{const e=window.URL||window.webkitURL,t=e.createObjectURL(c);if(a){const e=document.createElement("a");void 0===e.download?window.location=t:(e.href=t,e.download=a,document.body.appendChild(e),e.click())}else window.location=t;setTimeout(()=>{e.revokeObjectURL(t)},100)}})(e,document)}).catch(e=>{0})}},o.a.createElement(f.a,{id:"Apis.Details.Documents.View.btn.download",defaultMessage:"Download"}),o.a.createElement(l.a,null,"arrow_downward")),"FILE"===a.sourceType&&!y&&o.a.createElement(s.a,{className:t.fileAvailability},o.a.createElement(f.a,{id:"Apis.Details.Documents.View.file.availability",defaultMessage:"No file available"})))}b.propTypes={classes:i.a.shape({}).isRequired,doc:i.a.shape({}).isRequired,apiId:i.a.string.isRequired,intl:i.a.shape({formatMessage:i.a.func}).isRequired,fullScreen:i.a.bool.isRequired},t.a=Object(f.e)(Object(r.a)(e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},docTitle:{fontWeight:100,fontSize:50,color:e.palette.grey[500]},docBadge:{padding:e.spacing(1),background:e.palette.primary.main,position:"absolute",top:0,marginTop:-22,color:e.palette.getContrastText(e.palette.primary.main)},button:{padding:e.spacing(2),marginTop:e.spacing(2)},displayURL:{padding:e.spacing(2),marginTop:e.spacing(2),background:e.palette.grey[200],color:e.palette.getContrastText(e.palette.grey[200]),display:"flex"},displayURLLink:{paddingLeft:e.spacing(2)},docSummary:{marginTop:e.spacing(2)},fileAvailability:{marginTop:e.spacing(1),marginLeft:e.spacing(.8)}}))(b))},2261:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(1342),i=a(263),r=a(181),s=a(1182),l=a(1528),d=a(1216),p=a(1202),m=a(257),g=a(135),u=a(17),f=a.n(u),E=a(1551),h=a(1554),b=a(1556),y=a(1557),w=a(1590),T=a(1218);var L=a(1424),v=a(1624),I=a(1561),D=a(1516);const x=Object(L.a)(e=>({fullView:{cursor:"pointer",position:"absolute",right:5,top:5},paper:{padding:e.spacing(2),color:e.palette.text.secondary,minHeight:400,position:"relative",background:e.custom.apiDetailPages.documentBackground},popupHeader:{display:"flex",flexDirection:"row",alignItems:"center",position:"fixed",width:"100%"},viewWrapper:{padding:e.spacing(2),marginTop:50}}));function N(e){const{documentList:t,apiId:a,selectedDoc:c}=e,i=x(),[r,s]=Object(n.useState)(!1),d=()=>{s(!r)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.paper},("MARKDOWN"===c.sourceType||"INLINE"===c.sourceType)&&o.a.createElement(w.a,{className:i.fullView,onClick:d},"launch"),o.a.createElement(D.a,{doc:c,apiId:a,fullScreen:r})),o.a.createElement(v.a,{fullScreen:!0,open:r,onClose:d},o.a.createElement("div",{square:!0,className:i.popupHeader},o.a.createElement(I.a,{color:"inherit",onClick:d,"aria-label":"Close"},o.a.createElement(w.a,null,"close")),o.a.createElement(l.a,{variant:"h4"},c.name)),o.a.createElement("div",{className:i.viewWrapper},o.a.createElement(D.a,{doc:c,apiId:a,fullScreen:r}))))}function k(e){const{classes:t,documentList:a,apiId:c,selectedDoc:i}=e,[s,d]=Object(n.useState)(0),[p,m]=Object(n.useState)(0),[g]=function(){const[e,t]=Object(n.useState)([0,0]);return Object(n.useLayoutEffect)(()=>{function e(){t([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}(),[u,f]=Object(n.useState)(!(g<1400)),L=()=>{f(!u)};return Object(n.useEffect)(()=>{(()=>{let e=0;for(const t of a){let a=0;for(const n of t.docs)n.documentId===i.documentId&&(d(e),m(a)),a++;e++}})()},[i]),Object(n.useEffect)(()=>{f(!(g<1400))},[g]),o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{variant:"h4",className:t.titleSub},o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.title",defaultMessage:"API Documentation"})),o.a.createElement("div",{className:t.docContainer},u&&o.a.createElement("div",{className:t.docListWrapper},o.a.createElement("div",{className:t.paperMenu},o.a.createElement(E.a,{component:"nav",className:t.listRoot},a.map((a,n)=>o.a.createElement(o.a.Fragment,{key:n},o.a.createElement(h.a,{className:t.parentListItem},o.a.createElement(b.a,{classes:{root:t.listItemRoot}},o.a.createElement(T.a,{strokeColor:"#444",width:24,height:24,icon:"docs"})),o.a.createElement(y.a,{primary:a.docType,classes:{root:t.typeText}})),a.docs.length>0&&o.a.createElement(E.a,{component:"div",className:t.childList},a.docs.map((a,i)=>o.a.createElement(h.a,{button:!0,className:t.nested,classes:{selected:t.selected},selected:s===n&&p===i,onClick:t=>((t,a)=>{const n=`/apis/${c}/documents/${a.documentId}`;e.history.push(n)})(0,a),key:i},o.a.createElement(b.a,{classes:{root:t.listItemRoot}},o.a.createElement(o.a.Fragment,null,"MARKDOWN"===a.sourceType&&o.a.createElement(w.a,null,"code"),"INLINE"===a.sourceType&&o.a.createElement(w.a,null,"description"),"URL"===a.sourceType&&o.a.createElement(w.a,null,"open_in_new"),"FILE"===a.sourceType&&o.a.createElement(w.a,null,"arrow_downward"))),o.a.createElement(y.a,{inset:!0,primary:a.name,classes:{root:t.docLinkRoot}}))))))))),o.a.createElement("div",{className:t.toggleWrapper},o.a.createElement("a",{className:t.toggler,onClick:L,onKeyDown:L},o.a.createElement("div",{className:t.togglerTextParent},o.a.createElement("div",{className:t.togglerText},u?o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.hide",defaultMessage:"HIDE"}):o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.show",defaultMessage:"SHOW"}))),u?o.a.createElement(w.a,null,"keyboard_arrow_left"):o.a.createElement(w.a,null,"keyboard_arrow_right"))),o.a.createElement("div",{className:t.docView},i&&o.a.createElement(N,{documentList:a,selectedDoc:i,apiId:c}))))}k.propTypes={classes:f.a.shape({}).isRequired};var O=Object(r.e)(Object(s.a)(e=>({paper:{padding:e.spacing(2),color:e.palette.text.secondary,minHeight:400,position:"relative"},paperMenu:{color:e.palette.text.secondary,minHeight:400+e.spacing(4),height:"100%",background:e.custom.apiDetailPages.documentBackground},contentWrapper:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(3)},docContent:{paddingTop:e.spacing(1)},parentListItem:{borderTop:"solid 1px #ccc",borderBottom:"solid 1px #ccc",color:e.palette.grey[100],background:e.palette.grey[100],cursor:"default"},listRoot:{paddingTop:0},nested:{paddingLeft:e.spacing(3),paddingTop:3,paddingBottom:3},childList:{paddingTop:0,marginTop:0,paddingBottom:0,"& .material-icons":{color:e.palette.getContrastText(e.palette.background.paper)}},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(3),paddingTop:e.spacing(3)},titleSub:{marginLeft:e.spacing(2),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),color:e.palette.getContrastText(e.palette.background.default)},generateCredentialWrapper:{marginLeft:0,paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},genericMessageWrapper:{margin:e.spacing(2)},typeText:{color:"#000"},docLinkRoot:{paddingLeft:0},toggler:{height:"100%",paddingTop:20,cursor:"pointer",marginLeft:"-20px",display:"block"},togglerTextParent:{writingMode:"vertical-rl",transform:"rotate(180deg)"},togglerText:{textOrientation:"sideways"},toggleWrapper:{position:"relative",background:"#fff9",paddingLeft:20,background:e.custom.apiDetailPages.documentBackground},docsWrapper:{margin:0,background:e.custom.apiDetailPages.documentBackground},docContainer:{display:"flex",marginLeft:20,marginRight:20,marginTop:20},docListWrapper:{width:285},docView:{flex:1},listItemRoot:{minWidth:30}}))(k));function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.default=Object(r.e)(Object(s.a)(e=>({paper:{padding:e.spacing(2),color:e.palette.text.secondary,minHeight:400,position:"relative"},paperMenu:{color:e.palette.text.secondary,minHeight:400+e.spacing(4),height:"100%"},contentWrapper:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingTop:e.spacing(3)},docContent:{paddingTop:e.spacing(1)},parentListItem:{borderTop:"solid 1px #ccc",borderBottom:"solid 1px #ccc",color:e.palette.grey[100],background:e.palette.grey[100],cursor:"default"},listRoot:{paddingTop:0},nested:{paddingLeft:e.spacing(3),paddingTop:3,paddingBottom:3},childList:{paddingTop:0,marginTop:0,paddingBottom:0},contentWrapper:{maxWidth:e.custom.contentAreaWidth,paddingLeft:e.spacing(3),paddingTop:e.spacing(3)},titleSub:{marginLeft:e.spacing(3),paddingTop:e.spacing(2),paddingBottom:e.spacing(2),color:e.palette.getContrastText(e.palette.background.default)},generateCredentialWrapper:{marginLeft:0,paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},genericMessageWrapper:{margin:e.spacing(2)},typeText:{color:"#000"},docLinkRoot:{paddingLeft:0},toggler:{height:"100%",paddingTop:20,cursor:"pointer",marginLeft:"-20px",display:"block"},togglerTextParent:{writingMode:"vertical-rl",transform:"rotate(180deg)"},togglerText:{textOrientation:"sideways"},toggleWrapper:{position:"relative",background:"#fff9",paddingLeft:20},docsWrapper:{margin:0},docContainer:{display:"flex",marginLeft:e.spacing(3),marginRight:e.spacing(2),marginTop:e.spacing(2)},docListWrapper:{width:285},docView:{flex:1},listItemRoot:{minWidth:30}}))((function(e){const{classes:t}=e,{location:{pathname:a}}=e;let s=Object(i.f)(a,{path:"/apis/:apiUuid/documents/:documentId",exact:!0,strict:!1});const u=e.match.params.apiUuid;let f=s?s.params.documentId:null;const[E,h]=Object(n.useState)(null),[b,y]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(new m.a).getDocumentsByAPIId(u).then(e=>{const t=e.body.list.filter(e=>"_overview"!==e.otherTypeName),a=[];if(t.length>0)for(let e=0;e<t.length;e++){const n=t[e].type;let o=!1;for(let c=0;c<a.length;c++)n===a[c].docType&&(a[c].docs.push(t[e]),o=!0);o||a.push({docType:n,docs:[t[e]]}),t[e].documentId===f&&y(t[e])}h(a),!f&&a.length>0&&y(a[0].docs[0])}).catch(e=>{const{status:t}=e;404===t&&p.a.error("Error occured")})},[]),Object(n.useEffect)(()=>{if(E){s=Object(i.f)(a,{path:"/apis/:apiUuid/documents/:documentId",exact:!0,strict:!1}),f=s?s.params.documentId:null;for(const e of E)for(const t of e.docs)t.documentId===f&&y(t)}},[f]),E?E&&0===E.length?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{variant:"h4",className:t.titleSub},o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.title",defaultMessage:"API Documentation"})),o.a.createElement("div",{className:t.genericMessageWrapper},o.a.createElement(d.a,{type:"info",className:t.dialogContainer},o.a.createElement(l.a,{variant:"h5",component:"h3"},o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.no.docs",defaultMessage:"No Documents Available"})),o.a.createElement(l.a,{component:"p"},o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.no.docs.content",defaultMessage:"No documents are available for this API"}))))):b?o.a.createElement(i.d,null,o.a.createElement(i.a,{exact:!0,from:`/apis/${u}/documents`,to:`/apis/${u}/documents/${b.documentId}`}),o.a.createElement(i.b,{path:"/apis/:apiUuid/documents/:documentId",render:()=>o.a.createElement(O,R({},e,{documentList:E,selectedDoc:b,apiId:u}))}),o.a.createElement(i.b,{component:c.b})):o.a.createElement(g.a,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{variant:"h4",className:t.titleSub},o.a.createElement(r.a,{id:"Apis.Details.Documents.Documentation.title",defaultMessage:"API Documentation"})),o.a.createElement(g.a,null))})))}}]);
//# sourceMappingURL=APIDocuments.ff5c20ca9c16ab40c5ab.bundle.js.map