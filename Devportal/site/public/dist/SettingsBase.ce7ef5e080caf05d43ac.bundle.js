(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1302:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(28),s=a.n(i),l=a(1267),o=a(1666),c=a(1707),u=a(1351);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class m extends r.a.Component{constructor(){super(...arguments),d(this,"state",{value:0}),d(this,"handleExpandClick",()=>{this.setState(e=>({expanded:!e.expanded}))})}render(){const{classes:e,type:t}=this.props,a=t||"info";return r.a.createElement(o.a,{className:e.root,elevation:1},"info"===a&&r.a.createElement(c.a,{className:e.iconItem},"info"),"warn"===a&&r.a.createElement(c.a,{className:e.iconItem},"warning"),r.a.createElement(u.a,{height:100}),r.a.createElement("div",{className:e.content},this.props.children))}}m.propTypes={classes:s.a.shape({}).isRequired,type:s.a.string.isRequired},t.a=Object(l.a)(e=>({root:{display:"flex",minHeight:100,alignItems:"center",paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,border:"solid 1px #ddd","& span.material-icons":{fontSize:60,color:e.custom.info.color},"& span, & h5, & label, & input":{color:e.palette.getContrastText(e.palette.background.paper)}},iconItem:{paddingRight:e.spacing(2),fontSize:60},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}))(m)},1548:function(e,t,a){"use strict";var n=a(3),r=a(56),i=a(1),s=a.n(i),l=a(1266),o=(a(28),a(2450)),c=a(1267),u=a(308),d=a(1348),m=a(1291),g=s.a.forwardRef((function(e,t){var a=e.children,i=e.classes,c=e.className,g=e.collapsedHeight,p=void 0===g?"0px":g,f=e.component,b=void 0===f?"div":f,h=e.in,E=e.onEnter,A=e.onEntered,y=e.onEntering,v=e.onExit,S=e.onExiting,C=e.style,M=e.timeout,N=void 0===M?u.b.standard:M,w=Object(r.a)(e,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]),x=Object(m.a)(),j=s.a.useRef(),O=s.a.useRef(null),k=s.a.useRef(),R="number"==typeof p?"".concat(p,"px"):p;s.a.useEffect((function(){return function(){clearTimeout(j.current)}}),[]);return s.a.createElement(o.a,Object(n.a)({in:h,onEnter:function(e,t){e.style.height=R,E&&E(e,t)},onEntered:function(e,t){e.style.height="auto",A&&A(e,t)},onEntering:function(e,t){var a=O.current?O.current.clientHeight:0,n=Object(d.a)({style:C,timeout:N},{mode:"enter"}).duration;if("auto"===N){var r=x.transitions.getAutoHeightDuration(a);e.style.transitionDuration="".concat(r,"ms"),k.current=r}else e.style.transitionDuration="string"==typeof n?n:"".concat(n,"ms");e.style.height="".concat(a,"px"),y&&y(e,t)},onExit:function(e){var t=O.current?O.current.clientHeight:0;e.style.height="".concat(t,"px"),v&&v(e)},onExiting:function(e){var t=O.current?O.current.clientHeight:0,a=Object(d.a)({style:C,timeout:N},{mode:"exit"}).duration;if("auto"===N){var n=x.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),k.current=n}else e.style.transitionDuration="string"==typeof a?a:"".concat(a,"ms");e.style.height=R,S&&S(e)},addEndListener:function(e,t){"auto"===N&&(j.current=setTimeout(t,k.current||0))},timeout:"auto"===N?null:N},w),(function(e,r){return s.a.createElement(b,Object(n.a)({className:Object(l.default)(i.container,c,{entered:i.entered,exited:!h&&"0px"===R&&i.hidden}[e]),style:Object(n.a)({minHeight:R},C),ref:t},r),s.a.createElement("div",{className:i.wrapper,ref:O},s.a.createElement("div",{className:i.wrapperInner},a)))}))}));g.muiSupportAuto=!0,t.a=Object(c.a)((function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(g)},1550:function(e,t,a){"use strict";var n=a(56),r=a(3),i=a(1),s=a.n(i),l=(a(28),a(1266)),o=a(1267),c=a(1846),u=a(1273),d=s.a.forwardRef((function(e,t){var a=e.children,i=e.classes,o=e.className,d=e.color,m=void 0===d?"default":d,g=e.component,p=void 0===g?"button":g,f=e.disabled,b=void 0!==f&&f,h=e.disableFocusRipple,E=void 0!==h&&h,A=e.focusVisibleClassName,y=e.size,v=void 0===y?"large":y,S=e.variant,C=void 0===S?"round":S,M=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return s.a.createElement(c.a,Object(r.a)({className:Object(l.default)(i.root,o,"round"!==C&&i.extended,"large"!==v&&i["size".concat(Object(u.a)(v))],b&&i.disabled,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[m]),component:p,disabled:b,focusRipple:!E,focusVisibleClassName:Object(l.default)(i.focusVisible,A),ref:t},M),s.a.createElement("span",{className:i.label},a))}));t.a=Object(o.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&$focusVisible":{boxShadow:e.shadows[6]},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},1552:function(e,t,a){"use strict";var n=a(3),r=a(56),i=a(1),s=a.n(i),l=(a(28),a(1266)),o=a(1267),c=s.a.forwardRef((function(e,t){var a=e.classes,i=e.className,o=Object(r.a)(e,["classes","className"]);return s.a.createElement("div",Object(n.a)({className:Object(l.default)(a.root,i),ref:t},o))}));c.muiName="ListItemSecondaryAction",t.a=Object(o.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(c)},2040:function(e,t,a){e.exports=a(2041).default,e.exports.default=e.exports},2041:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(2042);function r(t,a){return void 0===a&&(a="utf8"),e.isBuffer(t)?s(t.toString("base64")):s(e.from(t,a).toString("base64"))}function i(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var l=r;l.encode=r,l.decode=function(t,a){return void 0===a&&(a="utf8"),e.from(i(t),"base64").toString(a)},l.toBase64=i,l.fromBase64=s,l.toBuffer=function(t){return e.from(i(t),"base64")},t.default=l}).call(this,a(307).Buffer)},2042:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var a=t.length,n=a%4;if(!n)return t;var r=a,i=4-n,s=a+i,l=e.alloc(s);for(l.write(t);i--;)l.write("=",r++);return l.toString()}}).call(this,a(307).Buffer)},2443:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(1747),s=a(1645),l=a(1267),o=a(230),c=a(28),u=a.n(c),d=a(1745),m=a(1649),g=a(1668),p=a(1671),f=a(1673),b=a(1847),h=a(1674),E=a(1552),A=a(1678),y=a(1707),v=a(1714),S=a(1756),C=a(1760),M=a(1758),N=a(1759),w=a(1757),x=a(1302),j=a(1717),O=a.n(j),k=a(708),R=a(304),T=a(1287),q=a(1548),I=a(1656),P=a(1670),B=a(1644),H=a(1550),W=a(1749),z=a(1754),F=a(1753),D=a(1752),V=a(1751),L=a(2040),U=a.n(L);const _={AbnormalRequestsPerMin:"requestCount"},$=e=>{const{alertType:t,api:a,alertName:i,classes:l,intl:c,setIsWorkerNodeDown:u}=e,[g,p]=Object(n.useState)([]),[f,b]=Object(n.useState)(),[h,E]=Object(n.useState)(),[S,C]=Object(n.useState)(new Set),[M,N]=Object(n.useState)([]),[w,j]=Object(n.useState)([]),[O,k]=Object(n.useState)(),[R,L]=Object(n.useState)(),[$,J]=Object(n.useState)({}),[Y,G]=Object(n.useState)(!1),[K,Q]=Object(n.useState)();Object(n.useEffect)(()=>{const e=a.getAlertConfigurations(t),n=a.getAllAPIs();Promise.all([e,n]).then(e=>{const t=e[1].body.list,a=new Set;t.forEach(e=>{a.add(e.name)}),C(a),b(t),p(e[0].body)}).catch(e=>{console.log(e),u(!0)})},[]);const X=e=>{a.getAlertConfigurations(t).then(e=>{p(e.body)}).catch().finally(()=>{J({[e]:!1})})};return f&&g?r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onClick:()=>G(!Y),color:"primary"},r.a.createElement(s.a,{className:l.addBtn},r.a.createElement(y.a,{color:"primary"},"add"),r.a.createElement(o.a,{id:"Settings.Alert.AlertConfiguration.add",defaultMessage:"New Configuration"}))),r.a.createElement(q.a,{in:Y,className:l.configWrapper},r.a.createElement(d.a,{container:!0,spacing:1},r.a.createElement(d.a,{item:!0,xs:!0},r.a.createElement(I.a,{id:"outlined-select-api-name",select:!0,fullWidth:!0,required:!0,label:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.api.name.label",defaultMessage:"API Name"}),className:l.textField,value:h,onChange:e=>(e=>{E(e);const t=f.filter(t=>t.name===e);N(t)})(e.target.value),SelectProps:{MenuProps:{className:l.menu}},helperText:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.select.api.helper",defaultMessage:"Select the API Name"}),variant:"outlined"},S&&Array.from(S).map(e=>r.a.createElement(P.a,{key:e,value:e},e)))),r.a.createElement(d.a,{item:!0,xs:!0},r.a.createElement(I.a,{id:"outlined-select-api-version",select:!0,fullWidth:!0,required:!0,label:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.api.version.label",defaultMessage:"API Version"}),className:l.textField,value:O,onChange:e=>(e=>{k(e);const t=f.filter(t=>t.name===h&&t.version===e);t.length>0&&a.getSubscriptions(t[0].id).then(e=>{const t=e.body.list.map(e=>e.applicationInfo);j(t)}).catch(e=>{console.log(e)})})(e.target.value),SelectProps:{MenuProps:{className:l.menu}},helperText:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.select.version.helper",defaultMessage:"Select API Version"}),variant:"outlined"},M&&M.map(e=>r.a.createElement(P.a,{key:e.version,value:e.version},e.version)))),r.a.createElement(d.a,{item:!0,xs:!0},r.a.createElement(I.a,{id:"outlined-select-applications",select:!0,fullWidth:!0,required:!0,label:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.applications.label",defaultMessage:"Application"}),className:l.textField,value:K,onChange:e=>Q(e.target.value),SelectProps:{MenuProps:{className:l.menu}},helperText:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.select.application.helper",defaultMessage:"Select Application"}),variant:"outlined"},w&&w.map(e=>r.a.createElement(P.a,{key:e.applicationId,value:e.name},e.name)))),r.a.createElement(d.a,{item:!0,xs:!0},r.a.createElement(I.a,{id:"outlined-value",type:"number",fullWidth:!0,required:!0,label:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.request.count.label",defaultMessage:"Request Count."}),className:l.textField,value:R,onChange:e=>L(e.target.value),variant:"outlined",endAdornment:r.a.createElement(B.a,{position:"end"},"ms"),helperText:r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.threshold.value.helper",defaultMessage:"Enter Request Count."})})),r.a.createElement(d.a,{item:!0,className:l.configAddBtnContainer},r.a.createElement(H.a,{disabled:(()=>!h||!O||!K||!R||$.add)(),color:"primary",size:"medium",onClick:()=>{J({add:!0});const e=U.a.encode(h+"#"+O+"#"+K),n={apiName:h,apiVersion:O,applicationName:K,requestCount:R};a.putAlertConfiguration(t,n,e).then(()=>{T.a.info(c.formatMessage({id:"Settings.Alert.AlertConfiguration.alert.config.add.success.msg",defaultMessage:"Alert Configuration added successfully"})),E(""),k(""),Q(""),L("")}).catch(()=>{T.a.error(c.formatMessage({id:"Settings.Alert.AlertConfiguration.alert.config.add.error.msg",defaultMessage:"Error occurred while adding alert configuration"}))}).finally(()=>{X("add")})}},r.a.createElement(y.a,null,$.add&&r.a.createElement(m.a,{size:15}),"add")))))),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:l.configNameHeading},r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.configuration",defaultMessage:"{name} Configurations",values:{name:i}})),0===g.length?r.a.createElement(x.a,{height:80},r.a.createElement("div",{className:l.contentWrapper},r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.no.config.message",defaultMessage:"You do not have any configurations. Click on {newConfig} button to add a configuration.",values:{newConfig:r.a.createElement("b",null,"New Configuration")}})))):r.a.createElement(W.a,null,r.a.createElement(z.a,null,r.a.createElement(F.a,null,r.a.createElement(D.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.api.name",defaultMessage:"API Name"})),r.a.createElement(D.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.api.version",defaultMessage:"API Version"})),r.a.createElement(D.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.AlertConfiguration.app.name",defaultMessage:"Application Name"})),r.a.createElement(D.a,null,i),r.a.createElement(D.a,null))),r.a.createElement(V.a,null,g.map(e=>r.a.createElement(F.a,{id:e.configurationId,key:e.configurationId},r.a.createElement(D.a,null,e.configuration.apiName),r.a.createElement(D.a,null,e.configuration.apiVersion),r.a.createElement(D.a,null,e.configuration.applicationName),r.a.createElement(D.a,null,e.configuration[_[t]]),r.a.createElement(D.a,null,r.a.createElement(A.a,{onClick:()=>(e=>{J({delete:e}),a.deleteAlertConfiguration(t,e).then(()=>{T.a.info(c.formatMessage({id:"Settings.Alert.AlertConfiguration.alert.config.delete.success.msg",defaultMessage:"Alert Configuration deleted successfully"}))}).catch(()=>{T.a.error(c.formatMessage({id:"Settings.Alert.AlertConfiguration.alert.config.delete.error.msg",defaultMessage:"Error occurred while deleting the configuration."}))}).finally(()=>{X("delete")})})(e.configurationId)},$.delete===e.configurationId?r.a.createElement(m.a,{size:15}):r.a.createElement(y.a,null,"delete"))))))))):r.a.createElement(m.a,null)};$.propTypes={alertType:u.a.string.isRequired,alertName:u.a.string.isRequired,classes:u.a.shape({}).isRequired,api:u.a.shape({}).isRequired,intl:u.a.shape({}).isRequired};var J=Object(o.e)(Object(l.a)(e=>({addBtn:{display:"flex",alignItems:"center"},configAddBtnContainer:{display:"flex",paddingBottom:e.spacing(2)},configWrapper:{padding:e.spacing(2)},configNameHeading:{marginBottom:e.spacing(),borderBottom:"#cccccc 1px inset"}}))($));const Y=e=>{const{classes:t,intl:a}=e,[i,l]=Object(n.useState)({open:!1,alertType:"",name:""}),[c,u]=Object(n.useState)([]),[j,q]=Object(n.useState)(),[I,P]=Object(n.useState)([]),[B,H]=Object(n.useState)(!1),[W,z]=Object(n.useState)({subscribing:!1,unSubscribing:!1}),[F,D]=Object(n.useState)(!1),[V,L]=Object(n.useState)(!1),U=new R.a,_={3:{name:a.formatMessage({id:"Settings.Alerts.Alerts.abnormal.response.time",defaultMessage:"Abnormal Requests per Minute"}),displayName:"AbnormalRequestsPerMin",description:a.formatMessage({id:"Settings.Alerts.Alerts.abnormal.request.per.min.description",defaultMessage:"This alert is triggered if there is a sudden spike the request count within a period of one minute by default for a particular API for an application. These alerts could be treated as an indication of a possible high traffic, suspicious activity, possible malfunction of the client application, etc."})},4:{name:a.formatMessage({id:"Settings.Alerts.Alerts.abnormal.backend.time",defaultMessage:"Abnormal Resource Access"}),displayName:"AbnormalRequestPattern",description:a.formatMessage({id:"Settings.Alerts.Alerts.abnormal.request.pattern.description",defaultMessage:"This alert is triggered if there is a change in the resource access pattern of a user of a particular application. These alerts could be treated as an indication of a suspicious activity made by a user over your application."})},5:{name:a.formatMessage({id:"Settings.Alerts.Alerts.numusual.ip",defaultMessage:"Unusual IP Access"}),displayName:"UnusualIPAccess",description:a.formatMessage({id:"Settings.Alerts.Alerts.unusual.ip.access.description",defaultMessage:"This alert is triggered if there is either a change in the request source IP for a particular application by a user or if the request is from an IP used before a time period of 30 days (default). These alerts could be treated as an indication of a suspicious activity made by a user over an application."})},6:{name:a.formatMessage({id:"Settings.Alerts.Alerts.frequent.tier",defaultMessage:"Frequent Tier Limit Hitting"}),displayName:"FrequentTierLimitHitting",description:a.formatMessage({id:"Settings.Alerts.Alerts.tier.limit.hitting.description",defaultMessage:"This alert is triggered if at least one of the two cases below are satisfied. if a particular application gets throttled out for hitting the subscribed tier limit of that application more than 10 times (by default) within an hour (by default) or if a particular user of an application gets throttled out for hitting the subscribed tier limit of a particular API more than 10 times (by default) within a day (by default)"})}},$=e=>I.some(t=>t.id===e),Y=e=>{const t=e.id;let a=[...I];if($(t))a=a.filter(e=>e.id!==t);else{const e={id:t,name:_[t].displayName,configuration:[]};a.push(e)}e.requireConfiguration&&(e=>{U.getAlertConfigurations(e.displayName).then(t=>{0===t.body.length&&l({open:!0,alertType:e.displayName,name:e.name})}).catch(e=>console.log(e))})(_[t]),P(a)};Object(n.useEffect)(()=>{const e=U.getSupportedAlertTypes(),t=U.getSubscribedAlertTypesByUser();Promise.all([e,t]).then(e=>{204===e[0].status||204===e[1].status?H(!1):(H(!0),P(e[1].body.alerts),u(e[1].body.emailList),q(e[0].body.alerts))}).catch(e=>{H(!1),P({}),console.error(e),T.a.error(a.formatMessage({id:"Settings.Alerts.Alerts.loading.error.msg",defaultMessage:"Error occurred while loading alerts"}))})},[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.alertsWrapper},B?r.a.createElement(r.a.Fragment,null,j?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{variant:"h6",className:t.manageAlertHeading},r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.subscribe.to.alerts.heading",defaultMessage:"Manage Alert Subscriptions"})),r.a.createElement(s.a,{variant:"caption"},r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.subscribe.to.alerts.subheading",defaultMessage:"Select the Alert types to subscribe/ unsubscribe and click Save."})),r.a.createElement(g.a,null,j&&j.map(e=>r.a.createElement(p.a,{key:e.id,divider:!0},r.a.createElement(f.a,null,r.a.createElement(b.a,{edge:"start",tabIndex:-1,value:e.id,checked:$(e.id),onChange:()=>Y(e),inputProps:{"aria-labelledby":e.name},color:"primary"})),r.a.createElement(h.a,{id:e.id,primary:_[e.id].name,secondary:_[e.id].description,className:t.listItem}),!0===e.requireConfiguration?r.a.createElement(E.a,null,r.a.createElement(A.a,{onClick:()=>(e=>{l({open:!0,alertType:_[e].displayName,name:_[e].name})})(e.id)},r.a.createElement(y.a,null,"settings"))):r.a.createElement("div",null)))),r.a.createElement(O.a,{label:"Emails",variant:"outlined",className:t.chipInput,value:c,placeholder:"Enter email address and press Enter",required:!0,helperText:"Email address to receive alerts of selected Alert types. Type email address and press Enter to add",onChange:e=>{(e=>{u(e)})(e)},onDelete:e=>{(e=>{const t=c.filter(t=>t!==e);u(t)})(e)}}),r.a.createElement(d.a,{container:!0,direction:"row",spacing:2,className:t.btnContainer},r.a.createElement(d.a,{item:!0},r.a.createElement(v.a,{disabled:0===c.length||0===I.length,onClick:()=>{z({subscribing:!0});const e={alerts:I,emailList:c};U.subscribeAlerts(e).then(()=>{T.a.success(a.formatMessage({id:"Settings.Alerts.Alerts.subscribe.success.msg",defaultMessage:"Subscribed to Alerts Successfully."}))}).catch(e=>{console.error(e),T.a.error(a.formatMessage({id:"Settings.Alerts.Alerts.subscribe.error.msg",defaultMessage:"Error occurred while subscribing to alerts."}))}).finally(()=>z({subscribing:!1}))},variant:"contained",color:"primary"},W.subscribing&&r.a.createElement(m.a,{size:15}),"Save")),r.a.createElement(d.a,{item:!0},r.a.createElement(v.a,{disabled:W.subscribing,color:"primary",variant:"contained",onClick:()=>D(!0)},W.unSubscribing&&r.a.createElement(m.a,{size:15}),"Unsubscribe All")),r.a.createElement(d.a,{item:!0},r.a.createElement(k.a,{to:"/apis/"},r.a.createElement(v.a,{disabled:W.subscribing,variant:"contained",color:"default"},W.unSubscribing&&r.a.createElement(m.a,{size:15}),"Cancel"))))):r.a.createElement(m.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{type:"info",height:100},r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.enable.analytics.message",defaultMessage:"Enable Analytics to Configure Alerts"})))))),r.a.createElement(S.a,{open:i.open},r.a.createElement(C.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.configure.alert",defaultMessage:"Configurations"})),V?r.a.createElement(M.a,null,r.a.createElement(N.a,{id:"analytics-dialog-description"},r.a.createElement(o.a,{id:"Apis.Settings.Alerts.connection.error",defaultMessage:"Could not connect to analytics server. Please check the connectivity."}))):r.a.createElement(M.a,null,r.a.createElement(J,{alertType:i.alertType,alertName:i.name,api:U,setIsWorkerNodeDown:L})),r.a.createElement(w.a,null,r.a.createElement(v.a,{color:"primary",variant:"outlined",onClick:()=>l({open:!1})},r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.close.btn",defaultMessage:"Close"}))))),r.a.createElement(S.a,{open:F},r.a.createElement(C.a,null,r.a.createElement(s.a,{className:t.configDialogHeading},r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.unsubscribe.confirm.dialog.heading",defaultMessage:"Confirm unsubscription from All Alerts"}))),r.a.createElement(M.a,null,r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.unsubscribe.confirm.dialog.message",defaultMessage:"This will remove all the existing alert subscriptions and emails. This action cannot be undone."}))),r.a.createElement(w.a,null,r.a.createElement(v.a,{color:"primary",size:"small",onClick:()=>{z({unSubscribing:!0}),U.unsubscribeAlerts().then(()=>{P([]),u([]),T.a.success(a.formatMessage({id:"Settings.Alerts.Alerts.unsubscribe.success.msg",defaultMessage:"Unsubscribed from all alerts successfully."}))}).catch(e=>{console.error(e),T.a.error(a.formatMessage({id:"Settings.Alerts.Alerts.unsubscribe.error.msg",defaultMessage:"Error occurred while unsubscribing."}))}).finally(()=>z({unSubscribing:!1})),D(!1)}},r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.confirm.btn",defaultMessage:"Unsubscribe All"}))),r.a.createElement(v.a,{color:"secondary",size:"small",onClick:()=>D(!1)},r.a.createElement(s.a,null,r.a.createElement(o.a,{id:"Settings.Alerts.Alerts.cancel.btn",defaultMessage:"Cancel"}))))))};Y.propTypes={classes:u.a.shape({configDialogHeading:u.a.string.isRequired,chipInput:u.a.string.isRequired,btnContainer:u.a.string.isRequired,alertsWrapper:u.a.string.isRequired,manageAlertHeading:u.a.string.isRequired}).isRequired,intl:u.a.shape({formatMessage:u.a.func.isRequired}).isRequired};var G=Object(o.e)(Object(l.a)(e=>({alertsWrapper:{padding:e.spacing(2),"& span, & h5, & label, & input, & td, & li":{color:e.palette.getContrastText(e.palette.background.paper)}},manageAlertHeading:{marginBottom:e.spacing()},chipInput:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)},alertConfigDialog:{width:"60%"},configDialogHeading:{fontWeight:"600"},btnContainer:{marginTop:e.spacing()},listItem:{marginLeft:e.spacing(1)}}))(Y));function K(e){const{classes:t}=e;return r.a.createElement("div",{className:t.settingsRoot},r.a.createElement(d.a,{container:!0,direction:"column",spacing:2},r.a.createElement(d.a,{item:!0},r.a.createElement(G,null))))}K.propTypes={classes:u.a.shape({settingsRoot:u.a.string.isRequired}).isRequired};var Q=Object(l.a)(e=>({settingsRoot:{padding:e.spacing(),width:"100%"}}))(K);function X(e){const{classes:t}=e;return r.a.createElement(i.a,{fixed:!0},r.a.createElement("div",{className:t.headingWrapper},r.a.createElement(s.a,{variant:"h5"},r.a.createElement(o.a,{id:"Apis.Settings.SettingsBase.header",defaultMessage:"Settings"})),r.a.createElement(s.a,{variant:"caption"},r.a.createElement(o.a,{id:"Apis.Settings.SettingsBase.sub.header",defaultMessage:"View and Configure Developer Portal Settings"}))),r.a.createElement(Q,null))}X.propTypes={classes:u.a.shape({}).isRequired};t.default=Object(l.a)(e=>({root:{padding:e.spacing(3),width:"100%"},headingWrapper:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(),"& span, & h5, & label, & input, & td, & li":{color:e.palette.getContrastText(e.palette.background.default)}}}))(X)}}]);
//# sourceMappingURL=SettingsBase.ce7ef5e080caf05d43ac.bundle.js.map