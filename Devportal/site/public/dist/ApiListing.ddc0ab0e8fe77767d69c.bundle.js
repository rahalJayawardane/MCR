(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1302:function(e,t,a){"use strict";var n=a(1),i=a.n(n),o=a(28),s=a.n(o),l=a(1267),r=a(1666),c=a(1707),p=a(1351);function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class g extends i.a.Component{constructor(){super(...arguments),d(this,"state",{value:0}),d(this,"handleExpandClick",()=>{this.setState(e=>({expanded:!e.expanded}))})}render(){const{classes:e,type:t}=this.props,a=t||"info";return i.a.createElement(r.a,{className:e.root,elevation:1},"info"===a&&i.a.createElement(c.a,{className:e.iconItem},"info"),"warn"===a&&i.a.createElement(c.a,{className:e.iconItem},"warning"),i.a.createElement(p.a,{height:100}),i.a.createElement("div",{className:e.content},this.props.children))}}g.propTypes={classes:s.a.shape({}).isRequired,type:s.a.string.isRequired},t.a=Object(l.a)(e=>({root:{display:"flex",minHeight:100,alignItems:"center",paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,border:"solid 1px #ddd","& span.material-icons":{fontSize:60,color:e.custom.info.color},"& span, & h5, & label, & input":{color:e.palette.getContrastText(e.palette.background.paper)}},iconItem:{paddingRight:e.spacing(2),fontSize:60},button:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}}))(g)},1326:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return r}));var n=a(1),i=a.n(n),o=a(28),s=a.n(o),l=a(37);const r={APIS:"/apis",SINGLE_API:"/apis/{apiId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",APPLICATIONS:"/applications",SINGLE_APPLICATION:"/applications/{applicationId}",APPLICATION_GENERATE_KEYS:"/applications/{applicationId}/generate-keys",APPLICATION_GENERATE_KEY_TYPE:"/applications/{applicationId}/keys/{keyType}",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SINGLE_SUBSCRIPTION:"/subscriptions/{subscriptionId}",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription:",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},c={POST:"post",PUT:"put",GET:"get",DELETE:"delete"};class p extends i.a.Component{constructor(e){super(e),this.state={}}componentDidMount(){const{resourcePath:e,resourceMethod:t}=this.props,a=l.a.hasScopes(e,t);a&&a.then(e=>{this.setState({haveScope:e})})}render(){const{children:e}=this.props;return this.state.haveScope&&e||null}}p.propTypes={children:s.a.node.isRequired,resourcePath:s.a.string.isRequired,resourceMethod:s.a.string.isRequired}},1466:function(e,t,a){"use strict";var n=a(1),i=a.n(n),o=a(1298);t.a=Object(o.a)(i.a.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},1467:function(e,t,a){"use strict";var n=a(1),i=a.n(n),o=a(1298);t.a=Object(o.a)(i.a.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},1484:function(e,t,a){"use strict";var n=a(1272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1)),o=(0,n(a(1278)).default)(i.default.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.default=o},1543:function(e,t,a){"use strict";var n=a(3),i=a(56),o=a(1),s=a.n(o),l=(a(28),a(1266)),r=a(1267),c=a(1387),p={variant:"footer"},d=s.a.forwardRef((function(e,t){var a=e.classes,o=e.className,r=e.component,d=void 0===r?"tfoot":r,g=Object(i.a)(e,["classes","className","component"]);return s.a.createElement(c.a.Provider,{value:p},s.a.createElement(d,Object(n.a)({className:Object(l.default)(a.root,o),ref:t},g)))}));t.a=Object(r.a)({root:{display:"table-footer-group"}},{name:"MuiTableFooter"})(d)},1569:function(e,t,a){"use strict";var n=a(1),i=a.n(n),o=a(1302),s=a(1645),l=a(1714),r=a(1523),c=a(1326);const p=Object(r.a)(e=>({appContent:{margin:e.spacing(2)},button:{color:e.palette.getContrastText(e.palette.primary.main)}}));t.a=e=>{const{handleClick:t,heading:a,caption:n,buttonText:r}=e,d=p();return i.a.createElement("div",{className:d.appContent},i.a.createElement(o.a,{type:"info",className:d.dialogContainer},i.a.createElement(s.a,{variant:"h5",component:"h2"},a),i.a.createElement(s.a,{variant:"body2",gutterBottom:!0},n),i.a.createElement(c.a,{resourcePath:c.c.APPLICATIONS,resourceMethod:c.b.POST},i.a.createElement(l.a,{variant:"contained",color:"primary",className:d.button,onClick:t},r))))}},1570:function(e,t,a){"use strict";var n=a(1),i=a.n(n),o=a(1756),s=a(1760),l=a(1758),r=a(1759),c=a(1757),p=a(1714),d=a(1711),g=a(230),u=a(28),m=a.n(u);const h=e=>{const{handleAppDelete:t,isDeleteOpen:a,toggleDeleteConfirmation:n}=e;return i.a.createElement(o.a,{open:a,transition:d.a},i.a.createElement(s.a,null,i.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.title",defaultMessage:"Delete Application"})),i.a.createElement(l.a,null,i.a.createElement(r.a,null,i.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.text.description",defaultMessage:"The application will be removed"}))),i.a.createElement(c.a,null,i.a.createElement(p.a,{dense:!0,onClick:n},i.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog.cancel",defaultMessage:"Cancel"})),i.a.createElement(p.a,{size:"small",variant:"outlined",color:"primary",onClick:t},i.a.createElement(g.a,{id:"Applications.Listing.DeleteConfirmation.dialog,delete",defaultMessage:"Delete"}))))};h.propTypes={handleAppDelete:m.a.func.isRequired,isDeleteOpen:m.a.bool.isRequired,toggleDeleteConfirmation:m.a.func.isRequired},t.a=h},1641:function(e,t,a){"use strict";var n=a(3),i=a(56),o=a(1),s=a.n(o),l=(a(28),a(1266)),r=a(1298),c=Object(r.a)(s.a.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),p=a(1267),d=a(1846),g=a(1273),u=s.a.forwardRef((function(e,t){var a=e.active,o=void 0!==a&&a,r=e.children,p=e.classes,u=e.className,m=e.direction,h=void 0===m?"desc":m,E=e.hideSortIcon,f=void 0!==E&&E,b=e.IconComponent,A=void 0===b?c:b,P=Object(i.a)(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return s.a.createElement(d.a,Object(n.a)({className:Object(l.default)(p.root,u,o&&p.active),component:"span",disableRipple:!0,ref:t},P),r,f&&!o?null:s.a.createElement(A,{className:Object(l.default)(p.icon,p["iconDirection".concat(Object(g.a)(h))])}))}));t.a=Object(p.a)((function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:1}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}}),{name:"MuiTableSortLabel"})(u)},1642:function(e,t,a){"use strict";var n=a(3),i=a(56),o=a(1),s=a.n(o),l=(a(28),a(1266)),r=a(1267),c=a(1651),p=a(1670),d=a(1854),g=a(1752),u=a(1710),m=a(1645),h=a(1467),E=a(1466),f=a(1291),b=a(1678),A=s.a.createElement(E.a,null),P=s.a.createElement(h.a,null),I=s.a.createElement(h.a,null),C=s.a.createElement(E.a,null),S=s.a.forwardRef((function(e,t){var a=e.backIconButtonProps,o=e.count,l=e.nextIconButtonProps,r=e.onChangePage,c=e.page,p=e.rowsPerPage,d=Object(i.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),g=Object(f.a)();return s.a.createElement("div",Object(n.a)({ref:t},d),s.a.createElement(b.a,Object(n.a)({onClick:function(e){r(e,c-1)},disabled:0===c,color:"inherit"},a),"rtl"===g.direction?A:P),s.a.createElement(b.a,Object(n.a)({onClick:function(e){r(e,c+1)},disabled:c>=Math.ceil(o/p)-1,color:"inherit"},l),"rtl"===g.direction?I:C))})),v=function(e){var t=e.from,a=e.to,n=e.count;return"".concat(t,"-").concat(-1===a?n:a," of ").concat(n)},y=[10,25,50,100],T=s.a.forwardRef((function(e,t){var a,o=e.ActionsComponent,r=void 0===o?S:o,h=e.backIconButtonProps,E=e.backIconButtonText,f=void 0===E?"Previous page":E,b=e.classes,A=e.className,P=e.colSpan,I=e.component,C=void 0===I?g.a:I,T=e.count,L=e.labelDisplayedRows,O=void 0===L?v:L,w=e.labelRowsPerPage,N=void 0===w?"Rows per page:":w,R=e.nextIconButtonProps,k=e.nextIconButtonText,D=void 0===k?"Next page":k,x=e.onChangePage,M=e.onChangeRowsPerPage,B=e.page,_=e.rowsPerPage,j=e.rowsPerPageOptions,q=void 0===j?y:j,W=e.SelectProps,G=void 0===W?{}:W,z=Object(i.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]);C!==g.a&&"td"!==C||(a=P||1e3);var H=G.native?"option":p.a;return s.a.createElement(C,Object(n.a)({className:Object(l.default)(b.root,A),colSpan:a,ref:t},z),s.a.createElement(u.a,{className:b.toolbar},s.a.createElement("div",{className:b.spacer}),q.length>1&&s.a.createElement(m.a,{color:"inherit",variant:"body2",className:b.caption},N),q.length>1&&s.a.createElement(d.a,Object(n.a)({classes:{select:b.select,icon:b.selectIcon},input:s.a.createElement(c.a,{className:Object(l.default)(b.input,b.selectRoot)}),value:_,onChange:M},G),q.map((function(e){return s.a.createElement(H,{className:b.menuItem,key:e,value:e.value?e.value:e},e.label?e.label:e)}))),s.a.createElement(m.a,{color:"inherit",variant:"body2",className:b.caption},O({from:0===T?0:B*_+1,to:Math.min(T,(B+1)*_),count:T,page:B})),s.a.createElement(r,{className:b.actions,backIconButtonProps:Object(n.a)({title:f,"aria-label":f},h),count:T,nextIconButtonProps:Object(n.a)({title:D,"aria-label":D},R),onChangePage:x,page:B,rowsPerPage:_})))}));t.a=Object(r.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{top:1},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(T)},2043:function(e,t,a){"use strict";var n=a(1272);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a(1)),o=(0,n(a(1278)).default)(i.default.createElement("path",{d:"M13.89 8.7L12 10.59 10.11 8.7a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L10.59 12 8.7 13.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l1.89 1.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l1.89-1.89c.39-.39.39-1.02 0-1.41-.39-.38-1.03-.38-1.41 0zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOffRounded");t.default=o},2446:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),o=a(1745),s=a(1645),l=a(1267),r=a(28),c=a.n(r),p=a(1749),d=a(1642),g=a(1714),u=a(1666),m=a(1543),h=a(1753),E=a(1637),f=a(1304),b=a(230),A=a(708),P=a(1326),I=a(1287),C=a(1324),S=a(1306),v=(a(1569),a(169)),y=a(20),T=a(1709),L=a(1710),O=a(1656),w=a(1676),N=a(1678),R=a(1484),k=a.n(R),D=a(1751),x=a(1752),M=a(1707),B=a(1649),_=a(1314),j=a(37);const q=Object(l.a)(e=>({head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14},root:{padding:`0 0 0  ${e.spacing(2)}px`}}))(x.a),W=Object(l.a)(e=>({root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}))(h.a);class G extends n.Component{constructor(e){super(e),this.state={notFound:!1},this.APPLICATION_STATES={CREATED:"CREATED",APPROVED:"APPROVED",REJECTED:"REJECTED"}}render(){const{apps:e,toggleDeleteConfirmation:t,classes:a,rowsPerPage:n}=this.props,{notFound:o}=this.state;let l=[];return e&&(l=[...e.values()].map(e=>(e.deleting=!1,e))),o?i.a.createElement(_.a,null):i.a.createElement(D.a,{className:a.fullHeight},l.map(e=>{const n=e.owner===j.a.getUser().name;return i.a.createElement(W,{className:a.tableRow,key:e.applicationId},i.a.createElement(q,{align:"left"},e.status===this.APPLICATION_STATES.APPROVED?i.a.createElement(A.a,{to:"/applications/"+e.applicationId},e.name):e.name),i.a.createElement(q,{align:"left"},e.owner),i.a.createElement(q,{align:"left"},e.throttlingPolicy),i.a.createElement(q,{align:"left"},e.status===this.APPLICATION_STATES.APPROVED&&i.a.createElement(s.a,{variant:"subtitle1",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.active",defaultMessage:"ACTIVE"})),e.status===this.APPLICATION_STATES.CREATED&&i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{variant:"subtitle1",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.inactive",defaultMessage:"INACTIVE"})),i.a.createElement(s.a,{variant:"caption"},i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.wait.approval",defaultMessage:"waiting for approval"}))),e.status===this.APPLICATION_STATES.REJECTED&&i.a.createElement(s.a,{variant:"subtitle1",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.rejected",defaultMessage:"REJECTED"}))),i.a.createElement(q,{align:"left"},e.subscriptionCount),i.a.createElement(q,{align:"left"},i.a.createElement(P.a,{resourcePath:P.c.SINGLE_APPLICATION,resourceMethod:P.b.PUT},e.status===this.APPLICATION_STATES.APPROVED&&i.a.createElement(w.a,{title:n?i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.edit.tooltip",defaultMessage:"Edit"}):i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.edit.tooltip.disabled.button",defaultMessage:"Not allowed to modify shared applications"})},i.a.createElement("span",null,i.a.createElement(A.a,{to:`/applications/${e.applicationId}/edit/`,className:!n&&a.appOwner},i.a.createElement(N.a,{disabled:!n},i.a.createElement(M.a,{"aria-label":i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.edit.btn",defaultMessage:"Edit"})},"edit")))))),i.a.createElement(P.a,{resourcePath:P.c.SINGLE_APPLICATION,resourceMethod:P.b.DELETE},i.a.createElement(w.a,{title:n?i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.delete.tooltip",defaultMessage:"Delete"}):i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.delete.tooltip.disabled.button",defaultMessage:"Not allowed to delete shared applications"})},i.a.createElement("span",null,i.a.createElement(N.a,{disabled:e.deleting||!n,"data-appid":e.applicationId,onClick:t,color:"default","aria-label":i.a.createElement(b.a,{id:"Applications.Listing.AppsTableContent.delete.label",defaultMessage:"Delete"})},i.a.createElement(M.a,null,"delete"))))),e.deleting&&i.a.createElement(B.a,{size:24})))}))}}G.propTypes={toggleDeleteConfirmation:c.a.func.isRequired,apps:c.a.instanceOf(Map).isRequired};var z=Object(l.a)(e=>({fullHeight:{height:"100%"},tableRow:{height:e.spacing(5),"& td":{padding:e.spacing(.5)}},appOwner:{pointerEvents:"none"}}))(G),H=a(1754),V=a(1641);const K=e=>{const t=t=>a=>{e.onRequestSort(a,t)},a=[{id:"name",numeric:!1,disablePadding:!0,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.name",defaultMessage:"Name"}),sorting:!0},{id:"owner",numeric:!1,disablePadding:!1,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.owner",defaultMessage:"Owner"}),sorting:!0},{id:"throttlingTier",numeric:!1,disablePadding:!1,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.policy",defaultMessage:"Policy"}),sorting:!0},{id:"workflowStatus",numeric:!1,disablePadding:!1,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.workflow.status",defaultMessage:"Workflow Status"}),sorting:!1},{id:"subscriptions",numeric:!1,disablePadding:!1,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.subscriptions",defaultMessage:"Subscriptions"}),sorting:!1},{id:"actions",numeric:!1,disablePadding:!1,label:i.a.createElement(b.a,{id:"Applications.Listing.ApplicationTableHead.actions",defaultMessage:"Actions"}),sorting:!1}],{order:n,orderBy:o}=e;return i.a.createElement(H.a,null,i.a.createElement(h.a,null,a.map(e=>i.a.createElement(x.a,{key:e.id,align:"left",sortDirection:o===e.id&&n},e.sorting?i.a.createElement(V.a,{active:o===e.id,direction:n,onClick:t(e.id)},e.label):e.label))))};K.propTypes={onRequestSort:c.a.func.isRequired,order:c.a.string.isRequired,orderBy:c.a.string.isRequired};var U=K,F=a(1570),Y=a(2043),J=a.n(Y);function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Q extends n.Component{constructor(e){super(e),$(this,"setQuery",e=>{const t=e.target.value;""===t?this.clearSearch():this.setState({query:t})}),$(this,"handleSearchKeyPress",e=>{"Enter"===e.key&&(this.setState({page:0}),this.updateApps(void 0,0),this.isApplicationGroupSharingEnabled())}),$(this,"filterApps",()=>{this.setState({page:0}),this.updateApps(void 0,0),this.isApplicationGroupSharingEnabled()}),$(this,"clearSearch",()=>{this.setState({query:"",data:null,page:0}),this.updateApps("",0),this.isApplicationGroupSharingEnabled()}),$(this,"isApplicationGroupSharingEnabled",()=>{const e=this.context.settings.applicationSharingEnabled;this.setState({isApplicationSharingEnabled:e})}),$(this,"updateApps",(e,t)=>{const{page:a,rowsPerPage:n,order:i,orderBy:o,query:s}=this.state,l=void 0!==e?e:s,r=void 0!==t?t:a;S.a.all(n,r*n,i,o,l).then(e=>{const{pagination:{total:t}}=e,a=new Map;e.list.map(e=>a.set(e.applicationId,e)),this.setState({data:a,totalApps:t})}).catch(e=>{console.log(e);const{status:t}=e;404===t?this.setState({notFound:!0}):401===t&&(window.location=y.appSettings.context+"/services/configs")})}),$(this,"handleRequestSort",(e,t)=>{const{orderBy:a,order:n}=this.state;let i="desc";a===t?(i="desc"===n?"asc":"desc",this.setState({order:i},this.updateApps)):this.setState({order:i,orderBy:t},this.updateApps)}),$(this,"handleChangePage",(e,t)=>{this.setState({page:t},this.updateApps)}),$(this,"handleChangeRowsPerPage",e=>{const t=e.target.value,{rowsPerPage:a,page:n}=this.state,i=a/t,o=Math.floor(n*i);this.setState({rowsPerPage:t,page:o},this.updateApps)}),$(this,"handleClickOpen",()=>{const{history:e}=this.props;e.push("/applications/create")}),$(this,"toggleDeleteConfirmation",e=>{let t="";e&&(t=e.currentTarget.getAttribute("data-appid")),this.setState(e=>{let{isDeleteOpen:a}=e;return{isDeleteOpen:!a,deletingId:t}})}),this.state={order:"asc",orderBy:"name",data:null,page:0,rowsPerPage:10,isApplicationSharingEnabled:!0,isDeleteOpen:!1,totalApps:0,query:""},this.handleAppDelete=this.handleAppDelete.bind(this),this.setQuery=this.setQuery.bind(this),this.handleSearchKeyPress=this.handleSearchKeyPress.bind(this),this.filterApps=this.filterApps.bind(this),this.clearSearch=this.clearSearch.bind(this)}componentDidMount(){this.updateApps(),this.isApplicationGroupSharingEnabled()}handleAppDelete(){const{data:e,deletingId:t}=this.state,{intl:a}=this.props,n=new Map([...e]),i=n.get(t);i.deleting=!0,this.setState({data:n});let o=a.formatMessage({defaultMessage:"Application {name} deleted successfully!",id:"Applications.Listing.Listing.application.deleted.successfully"},{name:i.name});S.a.deleteApp(t).then(e=>{e&&(n.delete(t),I.a.info(o),this.toggleDeleteConfirmation(),this.setState({data:n}))}).catch(e=>{console.log(e),o=a.formatMessage({defaultMessage:"Error while deleting application {name}",id:"Applications.Listing.Listing.application.deleting.error"},{name:i.name}),I.a.error(o)})}render(){const{data:e,order:t,orderBy:a,rowsPerPage:n,page:l,isApplicationSharingEnabled:r,isDeleteOpen:c,totalApps:I,query:S}=this.state,{classes:v,theme:y,intl:R}=this.props,D=y.palette.getContrastText(y.custom.infoBar.background),x=I>n;return i.a.createElement("main",{className:v.content},i.a.createElement("div",{className:v.root},i.a.createElement(E.a,{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},i.a.createElement("div",{className:v.mainIconWrapper},i.a.createElement(f.a,{strokeColor:D,width:42,height:42,icon:"applications"})),i.a.createElement("div",{className:v.mainTitleWrapper},i.a.createElement(s.a,{variant:"h4",className:v.mainTitle},i.a.createElement(b.a,{id:"Applications.Listing.Listing.applications",defaultMessage:"Applications"})),i.a.createElement("div",{className:v.createLinkWrapper},i.a.createElement(P.a,{resourcePath:P.c.APPLICATIONS,resourceMethod:P.b.POST},i.a.createElement(A.a,{to:"/applications/create"},i.a.createElement(g.a,{variant:"contained",color:"primary"},i.a.createElement(b.a,{id:"Applications.Create.Listing.add.new.application",defaultMessage:"Add New Application"}))))))),i.a.createElement(E.a,{display:"flex",pl:4},i.a.createElement(s.a,{variant:"caption",gutterBottom:!0,align:"left"},i.a.createElement(b.a,{id:"Applications.Listing.Listing.logical.description",defaultMessage:"An application is a logical collection of APIs. \n                                        Applications allow you to use a single access token to invoke a\n                                         collection of APIs and to subscribe to one API multiple times\n                                          and allows unlimited access by default."})))),i.a.createElement(u.a,{className:v.paper},i.a.createElement(T.a,{className:v.searchBar,position:"static",color:"default",elevation:0},i.a.createElement(L.a,null,i.a.createElement(o.a,{container:!0,spacing:2,alignItems:"center"},i.a.createElement(o.a,{item:!0},i.a.createElement(k.a,{className:v.block,color:"inherit"})),i.a.createElement(o.a,{item:!0,xs:!0},i.a.createElement(O.a,{fullWidth:!0,placeholder:"Search application by name",InputProps:{disableUnderline:!0,className:v.searchInput},value:S,onChange:this.setQuery,onKeyPress:this.handleSearchKeyPress}),S.length>0&&i.a.createElement(w.a,{title:R.formatMessage({defaultMessage:"Clear Search",id:"Applications.Listing.Listing.clear.search"})},i.a.createElement(N.a,{"aria-label":"delete",className:v.clearSearch,onClick:this.clearSearch},i.a.createElement(J.a,null)))),i.a.createElement(o.a,{item:!0},i.a.createElement(g.a,{variant:"contained",className:v.addUser,onClick:this.filterApps},i.a.createElement(b.a,{id:"Applications.Listing.Listing.applications.search",defaultMessage:"Search"}),"                                    "))))),!e&&i.a.createElement("div",{className:v.contentWrapper},i.a.createElement(C.a,null)),e&&i.a.createElement("div",{className:v.contentWrapper},e.size>0?i.a.createElement("div",{className:v.appContent},i.a.createElement(u.a,{className:v.appTablePaper},i.a.createElement(p.a,null,i.a.createElement(U,{order:t,orderBy:a,onRequestSort:this.handleRequestSort}),i.a.createElement(z,{handleAppDelete:this.handleAppDelete,apps:e,page:l,rowsPerPage:n,order:t,orderBy:a,isApplicationSharingEnabled:r,toggleDeleteConfirmation:this.toggleDeleteConfirmation}),x&&i.a.createElement(m.a,null,i.a.createElement(h.a,null,i.a.createElement(d.a,{component:"td",count:I,rowsPerPage:n,rowsPerPageOptions:[5,10,15],labelRowsPerPage:"Show",page:l,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})))))):""===S?i.a.createElement("div",{className:v.noDataMessage},i.a.createElement(s.a,{variant:"h6",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.Listing.noapps.display.title",defaultMessage:"No Applications Available"})),i.a.createElement(s.a,{variant:"body2",gutterBottom:!0},i.a.createElement("a",{onClick:this.handleClickOpen,className:v.clearSearchLink},i.a.createElement(b.a,{id:"Applications.Listing.Listing.noapps.display.link.text",defaultMessage:"Add New Application"})))):i.a.createElement("div",{className:v.noDataMessage},i.a.createElement(s.a,{variant:"h6",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.Listing.applications.no.search.results.title",defaultMessage:"No Matching Applications"})),i.a.createElement(s.a,{variant:"body2",gutterBottom:!0},i.a.createElement(b.a,{id:"Applications.Listing.Listing.applications.no.search.results.body.prefix",defaultMessage:"Check the spelling or try to "}),i.a.createElement("a",{onClick:this.clearSearch,className:v.clearSearchLink},i.a.createElement(b.a,{id:"Applications.Listing.Listing.applications.no.search.results.body.sufix",defaultMessage:"clear the search"})))),i.a.createElement(F.a,{handleAppDelete:this.handleAppDelete,isDeleteOpen:c,toggleDeleteConfirmation:this.toggleDeleteConfirmation}))))}}$(Q,"contextType",v.c),Q.propTypes={classes:c.a.shape({root:c.a.string,flex:c.a.string,content:c.a.string,mainIconWrapper:c.a.string,mainTitle:c.a.string,mainTitleWrapper:c.a.string,createLinkWrapper:c.a.string,appContent:c.a.string}).isRequired,theme:c.a.shape({}).isRequired,intl:c.a.shape({}).isRequired,history:c.a.shape({push:c.a.func}).isRequired};t.default=Object(b.e)(Object(l.a)(e=>({noDataMessage:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:40},clearSearch:{position:"absolute",right:111,top:13},paper:{margin:30},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},searchInput:{fontSize:e.typography.fontSize,height:50},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:0},card:{minWidth:275,paddingBottom:20},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},pos:{marginBottom:12,color:e.palette.text.secondary},createAppWrapper:{textDecoration:"none"},divider:{marginBottom:20},createButton:{textDecoration:"none",display:"inline-block",marginLeft:20,alignSelf:"flex-start"},titleWrapper:{display:"flex"},content:{flexGrow:1},root:{minHeight:80,background:e.custom.infoBar.background,color:e.palette.getContrastText(e.custom.infoBar.background),borderBottom:`solid 1px ${e.palette.grey.A200}`,display:"block"},mainIconWrapper:{paddingTop:e.spacing(1.5),paddingLeft:e.spacing(3),paddingRight:e.spacing(2.5)},mainTitleWrapper:{display:"flex"},createLinkWrapper:{paddingLeft:e.spacing(2)},appContent:{marginTop:0,margin:"auto",maxHeight:e.spacing(90),height:e.spacing(90),overflow:"scroll"},dialogContainer:{width:1e3,padding:e.spacing(2)},container:{height:"100%"},appTablePaper:{"& table tr td":{paddingLeft:e.spacing(1)},"& table tr td:first-child, & table tr th:first-child":{paddingLeft:e.spacing(2)},"& table tr:nth-child(even)":{backgroundColor:e.custom.listView.tableBodyEvenBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyEvenBackgrund)}},"& table tr:nth-child(odd)":{backgroundColor:e.custom.listView.tableBodyOddBackgrund,"& td, & a, & .material-icons":{color:e.palette.getContrastText(e.custom.listView.tableBodyOddBackgrund)}},"& table th":{backgroundColor:e.custom.listView.tableHeadBackground,color:e.palette.getContrastText(e.custom.listView.tableHeadBackground),paddingLeft:e.spacing(1)},"& table tr td button.Mui-disabled span.material-icons":{color:e.palette.action.disabled}},clearSearchLink:{color:e.palette.primary.light,cursor:"pointer"}}),{withTheme:!0})(Q))}}]);
//# sourceMappingURL=ApiListing.ddc0ab0e8fe77767d69c.bundle.js.map